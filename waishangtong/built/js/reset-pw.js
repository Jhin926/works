require(["common"],function(){require(["blockUI"],function(){$(".registerKind>a").bind("click",function(){$(this).removeClass("noactive").siblings("a").addClass("noactive");var e=$(this).index();0==e?($("#phone").show(),$("#email").hide()):1==e&&($("#email").show(),$("#phone").hide())}),$("#authCode").prop("disabled",!0),$("#phone").find("input[name=mobile]").bind("change",function(){var e=$(this).val();/^1[34578]\d{9}$/.test(e)?$("#authCode").prop("disabled",!1):$("#authCode").prop("disabled",!0)}),$("#authCode").bind("click",function(){var e="重新发送(<span>180</span>)";$(this).attr("disabled",!0).text("").empty().append(e),$.time=function(){if(parseInt($("#authCode span").text())>1)$("#authCode span").text(parseInt($("#authCode span").text())-1);else{clearInterval();var e="重新发送";$("#authCode").text("").empty().append(e),$("#authCode").attr("disabled",!1)}},setInterval("$.time()",1e3)}),$(".change-img").on("click","a",function(){$(".verification-code img").attr("src",'/api/verify/v1/code?data={"codeType":1,"length":4,"bizType":3}&v='+Math.random())});var e=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;$(".reset_send").on("click",function(){var t=$("#use_email").val(),a=$(".verification-content").val();return""==t?void $.Alert("请填写邮箱地址"):e.test(t)?""==a?void $.Alert("请输入验证码"):void $.ajax({url:Base.sitUrl+"/api/org/v1/org/user/password/reset",type:"post",data:{data:JSON.stringify({email:t,verify:a})},success:function(e){return e.success?void(location.href="reset-send-email.html?usename="+t):void $.unLogin(e)}}):void $.Alert("请填写正确填写您的邮箱")})})});